<html>
  <head>
    <meta charset="utf-8" />
    <title>Demo Counters</title>
    <style type="text/css" media="screen">
      body, table{
        font-family: sans-serif;
        font-size: small;
      }
    </style>
  </head>
  <body>
    <h1>Demo Counters</h1>

    <p>We demonstrate how to structure JS code well.</p>

    <p>The "model" here is a simple counter.</p>

    <p>The "view" is a small panel with buttons to increment or decrement the counter.</p>

    <p>There is no real "controller" here.  The views observe the model, and when the model changes, the model notifies them.  They then redraw themselves to reflect the current value of the model.  They also set up the connection between the buttons and the model. </p>

    <p>Most of the JS code is in separate files.</p>

    <p>There are two views here, both connected to the same model.  The connection is setup in the "main", which is right here in this file.</p>

    <div id="target">
    </div>

    <div id="target2">
    </div>

    <script id="demo_template" type="x-tmpl-mustache">
    <p>{{ value }}</p>
    <button class='inc'>INC</button>
    <button class='dec'>DEC</button>
    </script>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src='js/lib/mustache.js'></script>
    <script src='js/counter.js'></script>
    <script src='js/counter_view.js'></script>

    <script type="text/javascript" charset="utf-8">

      $(document).ready(function () {
        var c = new Counter();
        var view = new CounterView("#demo_template", "#target");
        var view2 = new CounterView("#demo_template", "#target2");
        view.notify(c);
        c.add_observer(view);

        view2.notify(c);
        c.add_observer(view2);
      });
    </script>
  </body>
</html>

