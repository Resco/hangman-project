<html>
  <head>
    <meta charset="utf-8" />
    <title>Demo Mustache</title>
    <style type="text/css" media="screen">
      body, table{
        font-family: sans-serif;
        font-size: small;
      }
    </style>
  </head>
  <body>
    <h1>Demo Templates</h1>

    <p>When you press the Demo button, we will load a template, fill it in with sample data, and display it right here.</p>

    <div id="target">
    </div>

    <script id="demo_template" type="x-tmpl-mustache">
    Hello {{ name }}!
    <table>
    {{#voti}}
      <tr>
        <td>{{ esame }}</td>
        <td>{{ voto }}</td>
      </tr>
    {{/voti}}
    </table>
    </script>

    <button id="demo">Demo</button>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src='js/lib/mustache.js'></script>

    <script type="text/javascript" charset="utf-8">
      function render_template() {
        var template = $('#demo_template').html();
        var rendered = Mustache.render(template, {
          name: "Pluto",
          voti: [
            { esame: "Applicazioni Web", voto: 30 },
            { esame: "Matematica 3", voto: 29 },
          ],
        });
        $("#target").html(rendered);
      }

      // main
      $(function() {
        $("#demo").click(render_template);
      });
    </script>
  </body>
</html>

